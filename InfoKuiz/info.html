<!DOCTYPE html>
<html lang="sq">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InfoKuiz Academy | Ensar Gashi</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="info.css">
    
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <style>
        .timer-wrapper {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: #eee;
            display: none;
        }
        #timer-line {
            height: 100%;
            width: 100%;
            background: #ff4b4b;
            transition: width 1s linear;
        }

        .btn-close-custom {
            background: none;
            border: none;
            font-size: 24px;
            font-weight: bold;
            color: #333;
            cursor: pointer;
            padding: 5px 15px;
            z-index: 9999;
            position: relative;
        }
        .btn-close-custom:hover {
            color: #ff4b4b;
        }
    </style>

    <script>
        function goHome() {
            if(confirm("A jeni tÃ« sigurt qÃ« dÃ«shironi tÃ« lini kuizin? Progresi i kÃ«tij raundi do tÃ« humbasÃ«.")) {
                window.location.reload();
            }
        }
    </script>
</head>
<body>
    <audio id="sound-correct" preload="auto" src="https://cdn.pixabay.com/audio/2021/08/04/audio_bbd1305435.mp3"></audio>
    <audio id="sound-wrong" preload="auto" src="https://cdn.pixabay.com/audio/2022/03/10/audio_c330833391.mp3"></audio>

    <button id="theme-toggle" class="dark-mode-fab-top">ğŸŒ™</button>

    <section id="hero">
        <div class="hero-overlay"></div>
        <div class="hero-content text-center container">
            <h1 class="display-1 fw-black text-white animate__animated animate__zoomIn">Info<span class="text-primary">Kuiz</span></h1>
            <p class="lead text-white-50 fs-4">ZotÃ«ro 30+ disiplina tÃ« teknologjisÃ« nÃ« njÃ« platformÃ« tÃ« vetme.</p>
            <div class="scroll-indicator" onclick="scrollToLobby()">
                <p class="text-white-50 mb-2">Shfleto Kurset</p>
                <div class="arrow-down shadow">
                    <svg width="30" height="30" viewBox="0 0 24 24" fill="white"><path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/></svg>
                </div>
            </div>
        </div>
    </section>

    <section id="lobby-screen">
        <div class="container py-5 text-center">
            <div class="container mb-4">
                <div class="rank-card p-4 shadow-sm mx-auto animate__animated animate__fadeInDown" style="max-width: 450px; border-radius: 25px; background: #ffffff; border: 2px solid #e5e5e5;">
                    <div class="d-flex align-items-center justify-content-center mb-3">
                        <div class="me-3 fs-1" id="rank-icon">ğŸ£</div>
                        <div class="text-start">
                            <h5 class="fw-black mb-0 text-primary" id="rank-title" style="letter-spacing: 1px;">FILLESTAR</h5>
                            <small class="text-muted">PikÃ«t Totale: <span id="total-points" class="fw-bold text-dark">0</span> ğŸ’</small>
                        </div>
                    </div>
                    <div class="xp-container mt-3 text-start">
                        <div class="d-flex justify-content-between mb-1">
                            <small class="fw-bold text-muted">Progresi drejt Rankut tÃ« radhÃ«s</small>
                            <small id="xp-percent" class="fw-bold text-primary">0%</small>
                        </div>
                        <div class="progress" style="height: 12px; background-color: #f0f0f0; border-radius: 10px; overflow: visible;">
                            <div id="xp-bar" class="progress-bar progress-bar-striped progress-bar-animated bg-warning" role="progressbar" style="width: 0%; border-radius: 10px; transition: width 1.5s ease-in-out;"></div>
                        </div>
                        <div class="text-center mt-2">
                            <small id="xp-needed" class="text-muted italic" style="font-size: 11px;">Edhe 500 diamante pÃ«r Rankun e radhÃ«s</small>
                        </div>
                    </div>
                </div>
            </div>

            <div class="text-center mb-4">
                <button class="btn btn-warning shadow-sm rounded-pill fw-bold px-4 py-2 mt-3" onclick="openShop()">Dyqani ğŸ›’</button>
            </div>

            <div class="mb-5">
                <p id="daily-quote" class="fst-italic text-muted small animate__animated animate__fadeIn">"Loading motivation..."</p>
            </div>

            <h2 class="fw-black mb-4">Zgjidh Misionin TÃ«nd</h2>

            <div class="row justify-content-center mb-5">
                <div class="col-md-6 col-10">
                    <div class="input-group shadow-sm rounded-pill overflow-hidden border">
                        <span class="input-group-text bg-white border-0 ps-4">ğŸ”</span>
                        <input type="text" id="courseSearch" class="form-control border-0 py-3" placeholder="KÃ«rko kursin..." onkeyup="filterCourses()">
                    </div>
                </div>
            </div>

            <div class="container mb-5">
                <div class="row justify-content-center">
                    <div class="col-md-8 col-lg-6">
                        <div class="card shadow-sm border-0 animate__animated animate__fadeInUp" style="border-radius: 25px; background: #f8f9fa;">
                            <div class="card-body p-4">
                                <div class="d-flex align-items-center justify-content-center mb-4">
                                    <span class="fs-3 me-2">ğŸ†</span>
                                    <h4 class="fw-black mb-0 text-dark" style="letter-spacing: 1px;">TOP STUDENTÃ‹T</h4>
                                </div>
                                <div id="leaderboard-list" class="d-grid gap-2">
                                    <div class="text-muted small py-3">Duke ngarkuar ranglistÃ«n...</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="nivelet-container" class="row g-3 g-lg-4 justify-content-center"></div>
        </div>
    </section>

    <section id="quiz-screen" class="d-none">
        <nav class="quiz-nav border-bottom bg-white sticky-top py-2 py-lg-3 shadow-sm">
            <div class="container d-flex align-items-center justify-content-between">
                <button type="button" class="btn-close-custom" onclick="goHome()">âœ•</button>
                <div class="progress flex-grow-1 mx-2 mx-lg-4" style="height: 12px;">
                    <div id="progress-bar" class="progress-bar bg-primary rounded-pill" style="width: 0%"></div>
                </div>
                <div class="d-flex gap-2">
                    <div class="score-pill">â¤ï¸ <span id="lives-val">3</span></div>
                    <div class="score-pill">ğŸ’ <span id="score-val">0</span></div>
                </div>
            </div>
            <div id="timer-container" class="timer-wrapper">
                <div id="timer-line"></div>
            </div>
        </nav>

        <div class="container mt-4 mt-lg-5">
            <div class="quiz-card p-3 p-lg-5 mx-auto" id="quiz-box">
                <div class="text-center mb-4"><span class="badge border p-2 px-3 text-dark bg-light" id="q-count"></span></div>
                <h2 id="question-text" class="fw-bold mb-4 mb-lg-5 text-center px-lg-4 fs-3">...</h2>
                <div id="options-container" class="d-grid gap-2 gap-lg-3"></div>
            </div>
        </div>
        <div id="feedback-bar" class="feedback-bar d-none animate__animated animate__slideInUp">
            <div class="container d-flex justify-content-between align-items-center">
                <div id="feedback-message" class="fw-bold fs-5 fs-lg-4"></div>
                <button class="btn btn-light btn-lg px-4 px-lg-5 fw-black shadow-sm" id="next-btn">VAZHDO</button>
            </div>
        </div>
    </section>

    <section id="result-screen" class="d-none text-center py-5">
        <div class="container mt-5 animate__animated animate__bounceIn">
            <div class="display-1 mb-4">ğŸ†</div>
            <h1 class="fw-black mb-2">Misioni u krye!</h1>
            <p id="final-summary" class="fs-4 text-muted mb-5"></p>
            <button class="btn btn-primary btn-lg px-5 py-3 rounded-pill fw-bold shadow" onclick="goHome()">KTHEHU TE KURSET</button>
        </div>
    </section>

    <footer class="py-5 text-center border-top bg-light mt-5">
        <div class="container">
            <p class="text-muted mb-1">Â© 2026 InfoKuiz. TÃ« gjitha tÃ« drejtat e rezervuara.</p>
            <p class="text-dark">Realizuar nga: 
                <a href="https://bit.ly/ensarportfolio" target="_blank" class="fw-bold text-primary text-decoration-none">Ensar Gashi</a>
            </p>
        </div>
    </footer>

    <div id="cert-modal" class="d-none animate__animated animate__fadeIn">
        <div class="cert-overlay"></div>
        <div class="cert-content shadow-lg animate__animated animate__zoomIn">
            <div id="cert-to-print" class="cert-design p-3 p-lg-5 text-center bg-white" style="color: #1a1a1a;">
                <div class="cert-border">
                    <h5 class="text-primary fw-bold mt-2">INFOKUIZ</h5>
                    <h1 class="display-4 my-3 fw-black">CERTIFIKATÃ‹</h1>
                    <p class="lead mb-2">Kjo dÃ«shmon se</p>
                    <h2 id="cert-user-name" class="fw-bold border-bottom d-inline-block px-3 text-uppercase">Studenti</h2>
                    <p class="lead mt-3">ka pÃ«rfunduar me sukses kursin profesional:</p>
                    <h3 id="cert-course-name" class="text-primary fw-bold">...</h3>
                    <div class="d-flex justify-content-between mt-5 pt-3 px-5">
                        <div class="text-start">
                            <small class="d-block text-muted">Data:</small>
                            <strong id="cert-date">14/01/2026</strong>
                        </div>
                        <div class="text-end">
                            <small class="d-block text-muted">LÃ«shuar nga:</small>
                            <strong class="text-dark">InfoKuiz</strong>
                        </div>
                    </div>
                </div>
            </div>
            <div class="text-center mt-4">
                <div class="d-flex flex-wrap justify-content-center gap-2">
                    <button class="btn btn-success btn-lg px-4 rounded-pill shadow" onclick="closeCert()">MBYLL</button>
                    <button class="btn btn-primary btn-lg px-4 rounded-pill shadow" onclick="downloadCert('png')">FOTO (PNG)</button>
                    <button class="btn btn-danger btn-lg px-4 rounded-pill shadow" onclick="downloadCert('pdf')">PDF</button>
                </div>
            </div>
        </div>
    </div>

    <div id="shop-modal" class="d-none animate__animated animate__fadeIn">
        <div class="cert-overlay" onclick="closeShop()"></div>
        <div class="cert-content shadow-lg p-4 bg-white rounded-5" style="max-width: 500px; width: 90%;">
            <div class="text-center mb-4">
                <h2 class="fw-black">Dyqani i <span class="text-primary">InfoKuiz</span> ğŸ›’</h2>
                <div class="badge bg-warning text-dark p-2 px-3 rounded-pill fs-5">Portofoli: <span id="shop-balance">0</span> ğŸ’</div>
            </div>
            <div class="d-grid gap-3">
                <div class="shop-item p-3 border rounded-4 d-flex align-items-center justify-content-between">
                    <div class="d-flex align-items-center">
                        <span class="fs-1 me-3">â¤ï¸</span>
                        <div class="text-start">
                            <h6 class="fw-bold mb-0">PaketÃ« JetÃ«sh (+1)</h6>
                        </div>
                    </div>
                    <button class="btn btn-primary rounded-pill px-3" onclick="buyItem('life', 50)">50 ğŸ’</button>
                </div>
                <div class="shop-item p-3 border rounded-4 d-flex align-items-center justify-content-between">
                    <div class="d-flex align-items-center">
                        <span class="fs-1 me-3">ğŸ”“</span>
                        <div class="text-start">
                            <h6 class="fw-bold mb-0">Zhbloko kurset</h6>
                        </div>
                    </div>
                    <button class="btn btn-primary rounded-pill px-3" onclick="buyItem('unlock', 500)">500 ğŸ’</button>
                </div>
            </div>
            <button class="btn btn-light w-100 mt-4 rounded-pill py-2 fw-bold" onclick="closeShop()">MBYLL DYQANIN</button>
        </div>
    </div>

    <div id="toast-container" class="toast-container"></div>
    <script src="info.js"></script>
</body>
</html>